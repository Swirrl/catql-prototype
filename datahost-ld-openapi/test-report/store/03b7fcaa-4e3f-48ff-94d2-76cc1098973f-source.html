<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>hurl-scripts/issue-282.hurl</title>
    <style>
        pre {
    padding: 0;
    margin: 0;
}

code {
    font-family: monospace;
    font-size: 0.825rem;
    line-height: 1.2rem;
}

.method {
    color: black;
}

.url {
    color: darkblue;
}

.version {
    color: black;
}

.number {
    color: blue;
}

.section-header {
    color: darkmagenta;
}

.query-type {
    color: teal;
}

.filter-type {
    color: darkblue;
}

.not {
    color: darkblue;
}

.predicate-type {
    color: darkblue;
}

.string {
    color: darkgreen;
}

.multiline {
    color: darkgreen;
}

.comment {
    color: dimgray;
}

.name {
    color: darkgreen;
}

.json {
    color: darkgreen;
}

.xml {
    color: darkgreen;
}

.base64 {
    color: darkgreen;
}

.hex {
    color: darkgreen;
}

.filename {
    color: darkgreen;
}

.cookie-value {
    color: darkgreen;
}
        .report-nav {
    margin-top: 20px;
    margin-bottom: 20px;
}

.report-nav-links {
    display: flex;
    margin-bottom: 20px;
    font-weight: bold;
}

.report-nav a {
    color: royalblue;
    margin-right: 20px;
}

.report-nav a[aria-selected="true"] {
    color: #ff0288;
}

.report-nav-summary > div {
    display: flex;
}

.report-nav-summary .item-name {
    min-width: 100px;
    font-weight: bold;
}

.error {
    margin-top: 10px;
    margin-bottom: 10px;
    border-left: red 4px solid;
}

.error-desc {
    background: #f5f5f5;
}

.error-desc pre {
    font-size: 0.8rem;
    line-height: 1.2;
    margin: 0.75rem;
    padding: 0.8rem;
    overflow-x: auto;
}

.error-desc pre code {
    font-size: 0.8rem;
    line-height: 1.2;
}


.success, .success a {
    color: green;
}

.failure, .failure a {
    color: red;
}
        body {
    font-family: "Helvetica Neue", Arial, sans-serif;
    font-size: 1.125rem;
    line-height: 1.4;
}

.line-error {
    border-bottom: red 2px dashed;
}

.line-error::after {
    content: " ⛔️"
}

.container {
    max-width: 1200px;
    width: 100%;
    margin-left: auto;
    margin-right: auto;
}

.source-container {
    display: flex;
    padding: 0;
    border: solid 1px #dcdcde;
}

.line-numbers {
    text-align: right;
    padding: 8px 10px;
    border-right: solid 1px #dcdcde;
    background: #fbfafd;
}

.line-numbers a {
    color: #89888d;
    text-decoration: none;
}

.line-numbers a:hover {
    text-decoration: underline;
}

.source {
    padding: 8px 10px;
    overflow: auto;
    overflow-y: hidden;
}

    </style>
<body>
<div>
    <div class="container">
        <div class="report-nav">
    <div class="report-nav-links">
        <div><a href="../index.html">Report</a></div>
        <div><a aria-selected="false" href="03b7fcaa-4e3f-48ff-94d2-76cc1098973f-timeline.html">Timeline</a></div>
        <div><a aria-selected="false" href="03b7fcaa-4e3f-48ff-94d2-76cc1098973f-run.html">Run</a></div>
        <div><a aria-selected="true" href="03b7fcaa-4e3f-48ff-94d2-76cc1098973f-source.html">Source</a></div>
    </div>
    <div class="report-nav-summary">
        <div><div class="item-name">File:</div><div><a href="03b7fcaa-4e3f-48ff-94d2-76cc1098973f-source.html">hurl-scripts/issue-282.hurl</a></div></div>
        <div><div class="item-name">Status:</div><div><span class="failure">Failure</span></div></div>
        <div><div class="item-name">Duration:</div><div>10 ms</div></div>
        <div><div class="item-name">Errors:</div><div>1</div></div>
        <div></div>
    </div>
    <div class="errors"><div class="error"><div class="error-desc"><pre><code>Assert status code
  --> <a href="03b7fcaa-4e3f-48ff-94d2-76cc1098973f-source.html#l9">hurl-scripts/issue-282.hurl:9:6</a>
   |
 9 | HTTP 201
   |      ^^^ actual value is <200>
   |</code></pre></div></div></div>
</div>

        <div class="source-container">
            <div class="line-numbers"><pre><code><a id="l1" href="#l1">1</a>
<a id="l2" href="#l2">2</a>
<a id="l3" href="#l3">3</a>
<a id="l4" href="#l4">4</a>
<a id="l5" href="#l5">5</a>
<a id="l6" href="#l6">6</a>
<a id="l7" href="#l7">7</a>
<a id="l8" href="#l8">8</a>
<a id="l9" href="#l9">9</a>
<a id="l10" href="#l10">10</a>
<a id="l11" href="#l11">11</a>
<a id="l12" href="#l12">12</a>
<a id="l13" href="#l13">13</a>
<a id="l14" href="#l14">14</a>
<a id="l15" href="#l15">15</a>
<a id="l16" href="#l16">16</a>
<a id="l17" href="#l17">17</a>
<a id="l18" href="#l18">18</a>
<a id="l19" href="#l19">19</a>
<a id="l20" href="#l20">20</a>
<a id="l21" href="#l21">21</a>
<a id="l22" href="#l22">22</a>
<a id="l23" href="#l23">23</a>
<a id="l24" href="#l24">24</a>
<a id="l25" href="#l25">25</a>
<a id="l26" href="#l26">26</a>
<a id="l27" href="#l27">27</a>
<a id="l28" href="#l28">28</a>
<a id="l29" href="#l29">29</a>
<a id="l30" href="#l30">30</a>
<a id="l31" href="#l31">31</a>
<a id="l32" href="#l32">32</a>
<a id="l33" href="#l33">33</a>
<a id="l34" href="#l34">34</a>
<a id="l35" href="#l35">35</a>
<a id="l36" href="#l36">36</a>
<a id="l37" href="#l37">37</a>
<a id="l38" href="#l38">38</a>
<a id="l39" href="#l39">39</a>
<a id="l40" href="#l40">40</a>
<a id="l41" href="#l41">41</a>
<a id="l42" href="#l42">42</a>
<a id="l43" href="#l43">43</a>
<a id="l44" href="#l44">44</a>
<a id="l45" href="#l45">45</a>
<a id="l46" href="#l46">46</a>
<a id="l47" href="#l47">47</a>
<a id="l48" href="#l48">48</a>
<a id="l49" href="#l49">49</a>
<a id="l50" href="#l50">50</a>
<a id="l51" href="#l51">51</a>
<a id="l52" href="#l52">52</a>
<a id="l53" href="#l53">53</a>
<a id="l54" href="#l54">54</a>
<a id="l55" href="#l55">55</a>
<a id="l56" href="#l56">56</a>
<a id="l57" href="#l57">57</a>
<a id="l58" href="#l58">58</a>
<a id="l59" href="#l59">59</a>
<a id="l60" href="#l60">60</a>
<a id="l61" href="#l61">61</a>
<a id="l62" href="#l62">62</a>
<a id="l63" href="#l63">63</a>
<a id="l64" href="#l64">64</a>
<a id="l65" href="#l65">65</a>
<a id="l66" href="#l66">66</a>
<a id="l67" href="#l67">67</a>
<a id="l68" href="#l68">68</a>
<a id="l69" href="#l69">69</a>
<a id="l70" href="#l70">70</a>
<a id="l71" href="#l71">71</a>
<a id="l72" href="#l72">72</a>
<a id="l73" href="#l73">73</a>
<a id="l74" href="#l74">74</a>
<a id="l75" href="#l75">75</a>
<a id="l76" href="#l76">76</a>
<a id="l77" href="#l77">77</a>
<a id="l78" href="#l78">78</a>
<a id="l79" href="#l79">79</a>
<a id="l80" href="#l80">80</a>
<a id="l81" href="#l81">81</a>
<a id="l82" href="#l82">82</a>
<a id="l83" href="#l83">83</a>
<a id="l84" href="#l84">84</a>
<a id="l85" href="#l85">85</a>
</pre></code></div>
            <div class="source"><pre><code class="language-hurl"><span class="hurl-entry"><span class="request"><span class="line"></span><span class="comment"># Description: We try to append a data with incorrectly formatted 'double' value,</span>
<span class="line"></span><span class="comment"># and that should be rejected by the API.</span>
<span class="line"></span>
<span class="line"><span class="method">PUT</span> <span class="url">{{scheme}}://{{host_name}}/data/{{series}}</span></span>
<span class="line"><span class="string">Content-Type</span>: <span class="string">application/json</span></span>
<span class="json"><span class="line">{"dcterms:description": "Crimes Data - Float coercion test",</span>
<span class="line"> "dcterms:title": "Column float coercion test"}</span></span>
</span><span class="response"><span class="line"></span>
<span class="line line-error"><span class="version">HTTP</span> <span class="number">201</span></span>
</span></span><span class="hurl-entry"><span class="request"><span class="line"></span>
<span class="line"><span class="method">GET</span> <span class="url">{{scheme}}://{{host_name}}/data/{{series}}</span></span>
</span><span class="response"><span class="line"></span>
<span class="line"><span class="version">HTTP</span> <span class="number">200</span></span>
</span></span><span class="hurl-entry"><span class="request"><span class="line"></span>
<span class="line"><span class="method">PUT</span> <span class="url">{{scheme}}://{{host_name}}/data/{{series}}/release/{{release}}</span></span>
<span class="line"><span class="string">Content-Type</span>: <span class="string">application/json</span></span>
<span class="json"><span class="line">{"dcterms:description": "Release: {{release}}",</span>
<span class="line">"dcterms:title": "{{release}}"}</span></span>
</span></span><span class="hurl-entry"><span class="request"><span class="line"></span>
<span class="line"><span class="method">GET</span> <span class="url">{{scheme}}://{{host_name}}/data/{{series}}/release/{{release}}</span></span>
</span><span class="response"><span class="line"></span>
<span class="line"><span class="version">HTTP</span> <span class="number">200</span></span>
</span></span><span class="hurl-entry"><span class="request"><span class="line"></span>
<span class="line"><span class="method">POST</span> <span class="url">{{scheme}}://{{host_name}}/data/{{series}}/release/{{release}}/schema</span></span>
<span class="line"><span class="string">Content-Type</span>: <span class="string">application/json</span></span>
<span class="json"><span class="line">{</span>
<span class="line"> "@type": "dh:TableSchema",</span>
<span class="line"> "dcterms:title": "{{release}} schema",</span>
<span class="line"> "dh:columns": [</span>
<span class="line">		{</span>
<span class="line">		 "@type": "dh:DimensionColumn",</span>
<span class="line">		 "csvw:datatype": "string",</span>
<span class="line">		 "csvw:name": "area",</span>
<span class="line">                 "csvw:titles": "area"</span>
<span class="line">                 },</span>
<span class="line">                {</span>
<span class="line">		 "@type": "dh:DimensionColumn",</span>
<span class="line">		 "csvw:datatype": "string",</span>
<span class="line">		 "csvw:name": "age_range",</span>
<span class="line">                 "csvw:titles": "age_range"</span>
<span class="line">                 },</span>
<span class="line">                 {</span>
<span class="line">		 "@type": "dh:MeasureColumn",</span>
<span class="line">		 "csvw:datatype": "double",</span>
<span class="line">		 "csvw:name": "estimate",</span>
<span class="line">                 "csvw:titles": "Estimate"</span>
<span class="line">                 }</span>
<span class="line">	        ]</span>
<span class="line"> }</span></span>
</span><span class="response"><span class="line"></span>
<span class="line"><span class="version">HTTP</span> <span class="number">201</span></span>
</span></span><span class="hurl-entry"><span class="request"><span class="line"></span>
<span class="line"><span class="method">POST</span> <span class="url">{{scheme}}://{{host_name}}/data/{{series}}/release/{{release}}/revisions</span></span>
<span class="line"><span class="string">Accept</span>: <span class="string">application/json</span></span>
<span class="line"><span class="string">Content-Type</span>: <span class="string">application/json</span></span>
<span class="json"><span class="line">{</span>
<span class="line"> "dcterms:title": "Test revision",</span>
<span class="line"> "dcterms:description": "Test revision"</span>
<span class="line">}</span></span>
</span><span class="response"><span class="line"></span>
<span class="line"><span class="version">HTTP</span> <span class="number">201</span></span>
<span class="line"><span class="section-header">[Captures]</span></span>
<span class="line"><span class="name">revision_url</span>: <span class="query-type">header</span> <span class="string">"Location"</span></span>
</span></span><span class="hurl-entry"><span class="request"><span class="line"></span>
<span class="line"><span class="method">GET</span> <span class="url">{{scheme}}://{{host_name}}{{revision_url}}</span></span>
<span class="line"><span class="string">Accept</span>: <span class="string">application/json</span></span>
</span><span class="response"><span class="line"></span>
<span class="line"><span class="version">HTTP</span> <span class="number">200</span></span>
</span></span><span class="hurl-entry"><span class="request"><span class="line"></span>
<span class="line"></span><span class="comment">## One append</span>
<span class="line"></span>
<span class="line"><span class="method">POST</span> <span class="url">{{scheme}}://{{host_name}}{{revision_url}}/appends</span></span>
<span class="line"><span class="string">Accept</span>: <span class="string">application/json</span></span>
<span class="line"><span class="string">Content-Type</span>: <span class="string">text/csv</span></span>
<span class="line"><span class="section-header">[QueryStringParams]</span></span>
<span class="line"><span class="string">description</span>: <span class="string">Add data for liverpool</span></span>
<span class="line"><span class="string">format</span>: <span class="string">text/csv</span></span>
<span class="multiline"><span class="line">```</span>
<span class="line">area,age_range,estimate</span>
<span class="line">liverpool,16-20,103.5</span>
<span class="line">manchester,16-20,100</span>
<span class="line">leeds,16-20,99.2</span>
<span class="line">```</span></span>
</span><span class="response"><span class="line"></span>
<span class="line"><span class="version">HTTP</span> <span class="number">400</span></span>
</span></span></code></pre></div>
        </div>
    </div>
</div>
</body>
</html>